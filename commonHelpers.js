import{a as b,S as _,i as A}from"./assets/vendor-c493984e.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=n(e);fetch(e.href,r)}})();const M="44174782-27b27c44e5570cc8c29375d58",P=(t,o,n)=>b.get(`https://pixabay.com/api/?key=${M}&q=${t}
&image_type=photo&orientation=horizontal&safesearch=true
&page=${o}&per_page=${n}`),f={getImages:P},d=(t,o)=>{const n=document.createElement("div"),a=document.createElement("span"),e=document.createElement("span");return n.className="imgInfoItem",a.className="itemTitle",e.className="itemValue",a.innerHTML=o,e.innerHTML=t[o],n.appendChild(a),n.appendChild(e),n},v=t=>{const o=document.createElement("a"),n=document.createElement("div"),a=document.createElement("img"),e=document.createElement("div");return o.className="gallery-link",o.href=t.largeImageURL,o.append(a),n.className="imgCard gallery-item",a.className="gallery-image imgBox",a.alt=t.tags,a.src=t.webformatURL,e.className="imgInfo",o.appendChild(a),n.append(o),n.appendChild(e),e.appendChild(d(t,"likes")),e.appendChild(d(t,"views")),e.appendChild(d(t,"comments")),e.appendChild(d(t,"downloads")),n},y={createImgCard:v};let l=1;const g=15,m="error",E="info",S="Something went wrong, please try again later!",B="Search text cant be empty!",O=`Sorry, there are no images matching your search
query. Please try again!`,I=`We're sorry, but you've reached the end of
search results.`,q=document.querySelector(".searchForm"),C=document.querySelector(".loaderBox"),h=document.querySelector(".container"),H=document.querySelector(".inputSearch"),L=document.querySelector(".loadMoreBox"),F=document.querySelector(".loadMore");let p="";const s=[],c=(t,o)=>{A[o]({position:"topRight",message:t})},R=()=>C.style.display="flex",i=()=>C.style.display="none",w=()=>L.style.display="flex",x=()=>L.style.display="none",$=()=>h.innerHTML="",N=t=>Math.ceil(t/g)!==l,T=new _(".gallery a",{captionsData:"alt",captionDelay:250,captionPosition:"bottom"}),D=()=>{const t=document.querySelector(".imgCard");t&&window.scrollBy(0,t.getBoundingClientRect().height*2)};q.addEventListener("submit",async t=>{if(t.preventDefault(),p=H.value,l=1,s.length=0,p==="")return c(B,m);$(),R();try{const o=await f.getImages(p,l,g);if(o.data){const{hits:n,totalHits:a}=o.data;if(n.length===0)return i(),c(O,m);s.push(...n.map(e=>y.createImgCard(e))),i(),console.log(s),h.append(...s),N(a)?w():(x(),c(I,E))}}catch(o){console.log(o),i(),c(S,m)}T.refresh()});F.addEventListener("click",async()=>{try{R(),l+=1;const t=await f.getImages(p,l,g);if(t.data){const{hits:o,totalHits:n}=t.data;s.push(...o.map(a=>y.createImgCard(a))),i(),h.append(...s),D(),N(n)?w():(x(),c(I,E))}}catch(t){console.log(t),i(),c(S,m)}T.refresh()});
//# sourceMappingURL=commonHelpers.js.map
